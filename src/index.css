@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    font-size: 16px;

    /* Maslow brand tokens */
    --maslow-teal: #6dc4ad;
    --maslow-pink: #ee7bb3;
    --maslow-purple: #401877;
    --maslow-blue: #469dbb;
    --maslow-orange: #f3a326;
    --maslow-purple-light: #a070a6;

    /* Shadcn light mode — mapped to Maslow brand */
    --background: 226 30% 92%; /* #E6EAF3 */
    --foreground: 0 0% 20%; /* #333333 */
    --card: 0 0% 100%; /* #FFFFFF */
    --card-foreground: 0 0% 20%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 20%;
    --primary: 0 0% 20%; /* #333333 buttons */
    --primary-foreground: 0 0% 100%;
    --secondary: 226 30% 92%;
    --secondary-foreground: 0 0% 20%;
    --muted: 220 14% 93%; /* #EEEEEE */
    --muted-foreground: 0 0% 65%; /* #A5A5A5 */
    --accent: 160 38% 60%; /* Teal accent */
    --accent-foreground: 0 0% 20%;
    --destructive: 0 65% 50%; /* #D52C2C */
    --destructive-foreground: 0 0% 100%;
    --border: 222 18% 82%; /* #D0D5E0 */
    --input: 222 18% 82%;
    --ring: 160 38% 60%; /* Teal focus ring */
    --radius: 0.5rem;
  }

  .dark {
    --background: 220 47% 14%; /* #121D35 */
    --foreground: 0 0% 100%;
    --card: 219 40% 19%; /* #1A2847 */
    --card-foreground: 0 0% 100%;
    --popover: 219 40% 19%;
    --popover-foreground: 0 0% 100%;
    --primary: 0 0% 100%;
    --primary-foreground: 220 47% 14%;
    --secondary: 220 37% 24%; /* #243356 */
    --secondary-foreground: 0 0% 100%;
    --muted: 220 37% 24%;
    --muted-foreground: 218 24% 78%; /* #B8C4D9 */
    --accent: 160 38% 60%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 65% 50%;
    --destructive-foreground: 0 0% 100%;
    --border: 220 30% 32%; /* #3A4A6B */
    --input: 220 30% 32%;
    --ring: 160 38% 60%;
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: "Manrope", system-ui, sans-serif;
  }
}

/* Maslow accent line utilities */
.accent-line {
  height: 3px;
  width: 60px;
  background-color: var(--maslow-teal);
}

.accent-line-full {
  height: 3px;
  width: 100%;
  background-color: var(--maslow-pink);
}

.accent-line-teal {
  height: 3px;
  width: 100%;
  background-color: var(--maslow-teal);
}

/* Maslow selection state */
.maslow-selected {
  background-color: #ebf7f4;
  border-left: 3px solid #6dc4ad;
}

/* Tool card elevation — uses --card token to lift cards off thread surface */
.tool-card {
  background-color: hsl(var(--card));
  border: 1px solid hsl(var(--border));
  border-left: 3px solid var(--maslow-teal);
  border-radius: 0.75rem;
  box-shadow:
    0 1px 3px 0 rgb(0 0 0 / 0.06),
    0 1px 2px -1px rgb(0 0 0 / 0.06);
  overflow: hidden;
  margin-top: 0.75rem;
  margin-bottom: 0.75rem;
}
.dark .tool-card {
  box-shadow:
    0 1px 3px 0 rgb(0 0 0 / 0.25),
    0 1px 2px -1px rgb(0 0 0 / 0.2);
}
.tool-card-header {
  padding: 0.75rem 1rem;
  border-bottom: 1px solid hsl(var(--border) / 0.5);
  background-color: hsl(var(--muted) / 0.3);
}

@keyframes float {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

/* Hide scrollbar for horizontal pill rows */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* ──── assistant-ui brand overrides ──── */

/* Thread background inherits dialog — transparent */
.aui-thread-root {
  background: transparent !important;
}

/* Assistant message: teal left border to match old ChatMessage */
.aui-assistant-message-content {
  border-left: 2px solid var(--maslow-teal);
  padding-left: 0.75rem;
}

/* User message bubble: dark-blue background */
.aui-user-message-content {
  background-color: hsl(220 47% 14%) !important;
  color: white !important;
}

/* Composer input ring — teal focus */
.aui-composer-root
  .aui-composer-attachment-dropzone:has(textarea:focus-visible) {
  border-color: var(--maslow-teal);
  --tw-ring-color: var(--maslow-teal);
}

/* Send button — dark brand style */
.aui-composer-send {
  background-color: hsl(0 0% 20%) !important;
  color: white !important;
}
.aui-composer-send:hover {
  background-color: hsl(220 47% 14%) !important;
}

/* Cancel (stop) button */
.aui-composer-cancel {
  background-color: hsl(0 0% 20%) !important;
  color: white !important;
}

/* Chat input background — standardized to ring-offset-color */
.chat-input-bg {
  background-color: var(--tw-ring-offset-color) !important;
}

/* Suggestion buttons — dark bg in light mode, original in dark mode (no hover) */
.aui-thread-welcome-suggestion {
  transition:
    background-color 0.15s,
    border-color 0.15s,
    opacity 0.15s;
}

/* Streaming cursor shimmer — teal */
.aui-md .aui-md-running::after {
  background-color: var(--maslow-teal);
}

/* ──── App tour spotlight ──── */
@keyframes tour-pulse {
  0%,
  100% {
    box-shadow: 0 0 0 0 rgba(109, 196, 173, 0.4);
  }
  50% {
    box-shadow: 0 0 0 8px rgba(109, 196, 173, 0);
  }
}
.tour-spotlight-ring {
  animation: tour-pulse 2s ease-in-out infinite;
  border-radius: 8px;
}
